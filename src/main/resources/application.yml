spring:
  application:
    name: app-supervision
  
  r2dbc:
    url: r2dbc:postgresql://pg-1bdfb7fc-bnducgiang90-e689.h.aivencloud.com:20545/chatdb?sslmode=require
    username: avnadmin
    password: AVNS_77HncySd8jtR-oBbnU9
    pool:
      initial-size: 10
      max-size: 50
      max-idle-time: 30m
  
  codec:
    max-in-memory-size: 20MB
  
  servlet:
    multipart:
      max-file-size: 100MB
      max-request-size: 100MB

server:
  port: 8080

# Storage Configuration
storage:
  type: local  # Options: minio, local
  local:
    upload-dir: ./uploads
  minio:
    endpoint: http://localhost:9000
    access-key: minioadmin
    secret-key: minioadmin
    bucket: chat-files
    auto-create-bucket: true

# SSE Configuration
sse:
  timeout: 3600000  # 1 hour in milliseconds
  heartbeat-interval: 30000  # 30 seconds

logging:
  level:
    root: INFO
    com.chatapp: DEBUG
    io.r2dbc.postgresql: DEBUG

# Swagger / OpenAPI Configuration
springdoc:
  api-docs:
    enabled: true
    path: /v3/api-docs
  swagger-ui:
    path: /swagger-ui.html
    operations-sorter: alpha
    tags-sorter: alpha
    display-request-duration: true

# JWT Configuration
jwt:
  secret: RrD4X91TgrzsrZjAx3ELoltYweXSrGH/wfHgjBKobcs=
  expiration: 86400000  # 24 hours in milliseconds
